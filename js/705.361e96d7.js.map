{"version":3,"file":"js/705.361e96d7.js","mappings":"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","sources":["webpack://hsin_bakery/./src/views/ProductsList.vue","webpack://hsin_bakery/./src/views/ProductsList.vue?b55d"],"sourcesContent":["<template>\n  <NavBar></NavBar>\n\n  <body>\n    <div class=\"productsListBanner\">\n      <div class=\"container\">\n        <img src=\"../assets/banner-1.jpg\" alt=\"banner\">\n      </div>\n    </div>\n    <div class=\"productsList\">\n      <div class=\"container d-flex justify-content-lg-between flex-lg-row flex-column\">\n        <div class=\"leftList\">\n          <div class=\"input-group mb-3\">\n            <input type=\"text\"\n            class=\"form-control searchInput\"\n            placeholder=\"請輸入商品名稱或關鍵字\" aria-label=\"Search\" aria-describedby=\"search-button\"\n            v-model=\"searchValue\"\n            @input=\"searchProducts\"\n            @keydown.enter.prevent=\"searchProducts\">\n            <button class=\"btn searchBtn\"\n            type=\"button\" id=\"search-button\"\n            @click.prevent=\"searchProducts\"\n            >搜尋</button>\n          </div>\n          <div class=\"btn-group-vertical\" role=\"group\" aria-label=\"Basic example\">\n            <span class=\"btn-group-text\">商品篩選</span>\n            <button type=\"button\" class=\"btn btn-primary\"\n            @click.prevent=\"filterProducts(0)\"\n            :class=\"{'active': this.categoryStatus === 0}\">所有商品</button>\n            <button type=\"button\" class=\"btn btn-primary\"\n            @click.prevent=\"filterProducts(1, '麵包')\"\n            :class=\"{'active': this.categoryStatus === 1}\">麵包</button>\n            <button type=\"button\" class=\"btn btn-primary\"\n            @click.prevent=\"filterProducts(2, '吐司')\"\n            :class=\"{'active': this.categoryStatus === 2}\">吐司</button>\n            <button type=\"button\" class=\"btn btn-primary\"\n            @click.prevent=\"filterProducts(3, '蛋糕')\"\n            :class=\"{'active': this.categoryStatus === 3}\">蛋糕</button>\n            <button type=\"button\" class=\"btn btn-primary\"\n            @click.prevent=\"filterProducts(4, '月餅')\"\n            :class=\"{'active': this.categoryStatus === 4}\">月餅</button>\n          </div>\n        </div>\n        <div class=\"rightList d-flex align-items-start\" v-if=\"this.temProducts.length > 0\">\n          <div class=\"card\" v-for=\"item in temProducts\" :key=\"item.id\"\n          >\n            <button @click=\"productInfo\" class=\"imgBtn\">\n              <img :src=\"item.imageUrl\" class=\"card-img-top\" alt=\"...\">\n            </button>\n            <div class=\"card-body\">\n              <div class=\"card-title d-flex\">\n                <p class=\"name\">{{ item.title }}</p>\n                <p class=\"price\">NT$ {{ item.price }}</p>\n              </div>\n              <button class=\"btn btn-primary\"  @click=\"addToCart(item)\">加入購物車</button>\n            </div>\n          </div>\n        </div>\n        <div v-else class=\"mx-auto fs-3\">\n            <p>您輸入之商品不存在，請重新搜尋。</p>\n          </div>\n      </div>\n    </div>\n    <div class=\"productsPagination\">\n      <div class=\"container\">\n        <nav aria-label=\"...\" class=\"d-flex justify-content-lg-end justify-content-center\">\n          <ul class=\"pagination\">\n            <li class=\"page-item\">\n              <a class=\"page-link\" href=\"#\" aria-label=\"previous\"\n              @click.prevent=\"getProducts(pagination.current_page - 1)\"\n              :class=\"{'paginationDisable': pagination.current_page = 1}\">\n                <i class=\"bi bi-caret-left-fill\"></i>\n              </a>\n            </li>\n            <li class=\"page-item\" v-for=\"page in pagination.total_pages\" :key=\"page\">\n              <a class=\"page-link middle\" href=\"#\" @click.prevent=\"getProducts(page)\"\n              :class=\"{'paginationActive': page === pagination.current_page }\">{{ page }}</a>\n            </li>\n            <li class=\"page-item\">\n              <a class=\"page-link\" href=\"#\" aria-label=\"previous\"\n              @click.prevent=\"getProducts(pagination.current_page + 1)\"\n              :class=\"{'paginationDisable': pagination.current_page = pagination.total_pages}\">\n                <i class=\"bi bi-caret-right-fill\"></i>\n              </a>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </div>\n  </body>\n  <Footer></Footer>\n</template>\n\n<script>\nimport NavBar from '@/components/NavBar.vue';\nimport Footer from '@/components/Footer.vue';\n\nexport default {\n  data() {\n    return {\n      allProducts: {},\n      pagination: {},\n      searchValue: '',\n      temProducts: {},\n      categoryStatus: 0,\n    };\n  },\n  components: {\n    NavBar,\n    Footer,\n  },\n  methods: {\n    productInfo() {\n      this.$router.push('/product');\n    },\n    async getProducts(page = 1) {\n      try {\n        const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?page=${page}`;\n        const response = await this.$http.get(url);\n        console.log(response.data);\n        this.allProducts = response.data.products;\n        this.pagination = response.data.pagination;\n        this.temProducts = response.data.products;\n        this.searchValue = '';\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async addToCart(item) {\n      try {\n        const cartData = {\n          product_id: item.id,\n          qty: 1,\n        };\n        const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n        const response = await this.$http.post(url, { data: cartData });\n        if (response) {\n          this.$toast.fire({\n            title: `${item.title}已加入購物車！`,\n            icon: 'success',\n          });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    searchProducts() {\n      const filterData = this.allProducts.filter((item) => item.title.includes(this.searchValue));\n      this.temProducts = filterData;\n      this.categoryStatus = '';\n    },\n    filterProducts(categoryStatus, category) {\n      if (categoryStatus === 0) {\n        this.temProducts = this.allProducts;\n        this.categoryStatus = 0;\n        this.searchValue = '';\n      } else {\n        const filterData = this.allProducts.filter((item) => item.category.includes(category));\n        this.temProducts = filterData;\n        this.categoryStatus = categoryStatus;\n        this.searchValue = '';\n      }\n    },\n  },\n  created() {\n    this.getProducts(0);\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../scss/_ProductsList.scss'\n</style>\n","import { render } from \"./ProductsList.vue?vue&type=template&id=2c2be05e&scoped=true\"\nimport script from \"./ProductsList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsList.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsList.vue?vue&type=style&index=0&id=2c2be05e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2c2be05e\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","src","_imports_0","alt","role","_hoisted_16","_hoisted_23","_hoisted_27","_createVNode","_component_NavBar","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","type","placeholder","$data","searchValue","$event","onInput","_cache","args","$options","searchProducts","onKeydown","_withKeys","_withModifiers","id","onClick","_hoisted_6","_hoisted_7","_normalizeClass","categoryStatus","filterProducts","temProducts","length","_createElementBlock","_hoisted_8","_Fragment","_renderList","item","key","productInfo","imageUrl","_hoisted_10","_hoisted_11","_hoisted_12","_toDisplayString","title","_hoisted_13","price","addToCart","_hoisted_14","_hoisted_15","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","pagination","current_page","href","getProducts","total_pages","page","_hoisted_25","_hoisted_26","_component_Footer","data","allProducts","components","NavBar","Footer","methods","this","$router","push","url","response","$http","get","console","log","products","error","cartData","product_id","qty","post","$toast","fire","icon","filterData","filter","includes","category","created","__exports__","render"],"sourceRoot":""}